<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CertiFer - Plataforma de Cursos Online</title>
    <!-- Vue.js CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Hoja principal de estilos (importa otras hojas) -->
    <link rel="stylesheet" href="css/main.css">
    <!-- Icono de la página -->
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <!-- Font Awesome CDN para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>

<body>
    <div id="app">
        <!-- MENÚ SUPERIOR -->
        <header class="header">
            <!-- Logo -->
            <div class="header-brand" @click="reloadPage">
                <img src="assets/logo.png" alt="Certifer logo" class="brand-logo">
                <span class="brand-text">{{ t.siteName }}</span>
            </div>
            <button class="hamburger-btn" v-bind:class="{ open: isMobileMenuOpen }"
                v-on:click="isMobileMenuOpen = !isMobileMenuOpen">
                <span class="hamburguer-span"></span>
                <span class="hamburguer-span"></span>
                <span class="hamburguer-span"></span>
                <!-- BADGE CARRITO EN HAMBURGUESA -->
                <span v-if="hasCartItems && !isMobileMenuOpen" class="cart-badge hamburger-cart-badge">
                    {{ cartItems.length }}
                </span>
            </button>

            <nav class="header-nav" :class="{ open: isMobileMenuOpen }">
                <!-- Inicio -->
                <a class="nav-link" href="#" @click.prevent="scrollTo('app'); closeMobileMenu()">{{ t.nav.home }}</a>
                <!-- Ver cursos -->
                <div class="course-type-selector-container">
                    <button class="course-type-toggle-btn nav-link" @click="toggleCourseTypeSelector">
                        {{ t.nav.courses }}
                    </button>
                    <div v-if="showCourseTypeSelector" class="course-type-selector">
                        <div class="palette-grid">
                            <!-- TODOS -->
                            <div class="palette-option" @click="selectCourseType(null)">
                                <span class="palette-name">{{ t.course.allCourses || 'Todos los cursos' }}</span>
                            </div>
                            <!-- TIPOS -->
                            <div v-for="tipo in availableTipos" :key="'nav-tipo-' + tipo" class="palette-option"
                                @click="selectCourseType(tipo)">
                                <span class="palette-name">{{ t.course['type' + tipo] }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Acerca de -->
                <a class="nav-link" href="#" @click.prevent="scrollTo('about'); closeMobileMenu()">{{ t.nav.about }}</a>
                <!-- Carrito -->
                <a class="nav-link cart-link" href="#" @click.prevent="goTo('cart'); closeMobileMenu()">
                    {{ t.nav.cart }}
                    <span v-if="hasCartItems" class="cart-badge">{{ cartItems.length }}</span>
                </a>
                <!-- Selector de paleta de colores -->
                <div class="palette-selector-container">
                    <button class="nav-link palette-toggle-btn" @click="togglePaletteSelector">{{ t.nav.theme
                        }}</button>
                    <div v-if="showPaletteSelector" class="palette-selector">
                        <div class="palette-grid">
                            <div v-for="key in paletteKeys" :key="key" class="palette-option"
                                @click="changePalette(key)" :class="{ active: selectedPalette === key }"
                                :title="getPaletteName(key)">
                                <div class="palette-preview">
                                    <div class="color-box"
                                        :style="{ backgroundColor: getPaletteColor(key, 'primary') }"></div>
                                    <div class="color-box"
                                        :style="{ backgroundColor: getPaletteColor(key, 'secondary') }"></div>
                                    <div class="color-box"
                                        :style="{ backgroundColor: getPaletteColor(key, 'background') }"></div>
                                </div>
                                <span class="palette-name">{{ getPaletteName(key) }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SELECTOR DE IDIOMA -->
                <div id="lang">
                    <div id="es" class="lang-option" :class="{ active: selectedLang === 'es' }"
                        v-on:click="selectedLang = 'es'" data-lang="es">ES</div>
                    <div id="en" class="lang-option" :class="{ active: selectedLang === 'en' }"
                        v-on:click="selectedLang = 'en'" data-lang="en">EN</div>
                </div>

                <!-- LOGIN / USUARIO -->
                <div class="palette-selector-container" v-if="isLoggedIn">
                    <button class="nav-link palette-toggle-btn user-name" @click="toggleUserMenu"
                        :title="sessionUser.nombre">
                        {{ sessionUser.nombre }}
                    </button>

                    <div v-if="showUserMenu" class="palette-selector user-dropdown-like">
                        <button class="user-dropdown-item" @click="logout">
                            <i class="fa-solid fa-right-from-bracket"></i>{{ t.nav.logout }}
                        </button>
                    </div>
                </div>

                <a v-else class="nav-link login-link" href="#" @click.prevent="openLogin(); closeMobileMenu()">
                    <span class="login-desktop">{{ t.nav.login }}</span>
                    <span class="login-mobile">Login</span>
                </a>
            </nav>
        </header>

        <!-- VISTA PRINCIPAL -->
        <div v-if="currentView === 'home'">
            <!-- CARRUSEL DE CURSOS DESTACADOS -->
            <section class="featured-courses-section">
                <h2 class="section-title">{{ t.featuredCourses }}</h2>
                <div class="carousel-container" @mouseenter="stopAutoSlide" @mouseleave="startAutoSlide">
                    <div class="carousel-track" :style="trackStyle">
                        <div v-for="(curso, index) in featuredCursos" :key="curso.id" class="carousel-slide"
                            :class="getSlideClass(index)">
                            <div class="featured-course-card"
                                @click="index === currentSlide ? selectCourse(curso) : goToSlide(index)">
                                <div class="course-card-content">
                                    <div class="course-image-container">
                                        <img :src="curso.imagen" :alt="curso.titulo" class="course-image"
                                            @error="handleImageError">
                                    </div>
                                    <div class="course-info-container">
                                        <h3 class="course-title">{{ curso.titulo }}</h3>
                                        <p class="course-description">{{ curso.descripcion }}</p>
                                        <span class="course-price">{{ curso.precio }}</span>
                                        <div class="course-meta-info">
                                            <span class="course-duration">
                                                {{ Math.round(parseInt(curso.duracion) / 60) }} {{ t.hours }}
                                            </span>
                                            <div class="course-availability"
                                                :class="{ 'available': curso.disponible, 'unavailable': !curso.disponible }">
                                                {{ curso.disponible ? t.available : t.unavailable }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn prev-btn" @click="prevSlide"><i
                            class="fas fa-chevron-left"></i></button>
                    <div class="carousel-dots">
                        <div v-for="(curso, index) in featuredCursos" :key="'dot-' + curso.id" class="carousel-dot"
                            v-bind:class="{ active: currentSlide === index }" @click="goToSlide(index)"></div>
                    </div>
                    <button class="carousel-btn next-btn" @click="nextSlide"><i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- CATÁLOGO DE TODOS LOS CURSOS -->
            <main class="main-content" id="catalog">
                <div class="content-section">
                    <div class="page-header-row">
                        <h1 class="page-title" v-if="!selectedCourse">{{ t.course.catalogTitle }}</h1>
                        <h1 class="page-title" v-else>{{ t.course.selectedCourse }}</h1>
                        <div class="search-container" v-if="!selectedCourse">
                            <!-- BOTÓN FILTRO -->
                            <button class="filter-btn" @click="showFilters = !showFilters" :title="t.course.filters">
                                <i class="fas fa-filter"></i>
                            </button>
                            <!-- INPUT BÚSQUEDA -->
                            <div class="search-container" v-if="!selectedCourse">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" v-model="searchQuery" :placeholder="t.course.searchPlaceholder"
                                    class="course-search-input">
                            </div>
                            <!-- PANEL DE FILTROS -->
                            <div v-if="showFilters" class="filters-panel">
                                <div class="filters-grid">
                                    <!-- TIPOS -->
                                    <div class="filter-column">
                                        <span class="filter-title">{{ t.course.type }}</span>

                                        <label v-for="tipo in availableTipos" :key="tipo" class="checkbox-row">
                                            <input type="checkbox" :value="tipo" v-model="filters.tipo">
                                            <span>{{ t.course['type' + tipo] }}</span>
                                        </label>
                                    </div>
                                    <!-- OPCIONES -->
                                    <div class="filter-column">
                                        <!-- CERTIFICADO -->
                                        <div class="switch-row">
                                            <span>{{ t.course.onlyCertified }}</span>
                                            <label class="switch">
                                                <input type="checkbox" v-model="filters.soloCertificado">
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <!-- PRECIO -->
                                        <div class="range-group">
                                            <div class="range-label">
                                                <label>{{ t.course.maxPrice }}</label>
                                                <span class="range-value">
                                                    {{ filters.precioMax ? filters.precioMax + ' €' : '0 €' }}
                                                </span>
                                            </div>
                                            <input type="range" min="0" max="500" step="10"
                                                v-model.number="filters.precioMax">
                                        </div>

                                        <!-- BOTÓN RESET FILTROS -->
                                        <button class="reset-filters-btn" @click="resetFilters">
                                            {{ t.course.resetFilters }}
                                        </button>
                                        <!-- BOTÓN CERRAR -->
                                        <button class="close-filters-btn" @click="showFilters = false"
                                            :title="t.course.closeFilters">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button v-if="selectedCourse" class="close-selected-course-btn" @click="selectedCourse = null">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <!-- INFO DE TIPOS MOSTRADOS -->
                    <div v-if="!selectedCourse" class="course-types-info-row">
                        <i class="fas fa-filter"></i>
                        <span>{{ visibleCourseTypesLabel }}</span>
                    </div>

                    <!-- PAGINACIÓN -->
                    <div v-if="!selectedCourse" class="pagination-controls">
                        <button class="pagination-btn" :disabled="currentPage === 1"
                            @click="currentPage--; showMessage('info', t.messages.pageInfo .replace('{current}', currentPage) .replace('{total}', totalPages));">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span class="pagination-info">{{ currentPage }} / {{ totalPages }}</span>
                        <button class="pagination-btn" :disabled="currentPage === totalPages"
                            @click="currentPage++; showMessage('info', t.messages.pageInfo .replace('{current}', currentPage) .replace('{total}', totalPages));">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <!-- CURSO SELECCIONADO -->
                    <div v-if="selectedCourse" class="selected-course-wrapper">
                        <div class="selected-course-container">
                            <div class="selected-course-image-container">
                                <img :src="selectedCourse.imagen" :alt="selectedCourse.titulo"
                                    class="selected-course-image" @error="handleImageError">
                                <div class="image-overlay">
                                    <span class="image-badge" v-if="selectedCourse.disponible">
                                        <i class="fas fa-check-circle"></i> {{ t.course.available }}
                                    </span>
                                    <span class="image-badge unavailable" v-else>
                                        <i class="fas fa-times-circle"></i> {{ t.course.unavailable }}
                                    </span>
                                </div>
                            </div>

                            <div class="selected-course-details">
                                <div class="course-header">
                                    <h2 class="selected-course-title">{{ selectedCourse.titulo }}</h2>
                                </div>

                                <p class="selected-course-description">{{ selectedCourse.descripcion }}</p>

                                <div class="selected-course-meta-grid">
                                    <div class="meta-item">
                                        <i class="fas fa-clock meta-icon"></i>
                                        <div class="meta-content">
                                            <span class="meta-label">{{ t.course.duration }}</span>
                                            <span class="meta-value">{{ Math.round(parseInt(selectedCourse.duracion) /
                                                60) }} {{ t.hours }}</span>
                                        </div>
                                    </div>
                                    <div class="meta-item">
                                        <i class="fas fa-graduation-cap meta-icon"></i>
                                        <div class="meta-content">
                                            <span class="meta-label">{{ t.course.level }}</span>
                                            <span class="meta-value">{{ t.course['level' + selectedCourse.nivel] || '—'
                                                }}</span>
                                        </div>
                                    </div>
                                    <div class="meta-item">
                                        <i class="fas fa-language meta-icon"></i>
                                        <div class="meta-content">
                                            <span class="meta-label">{{ t.course.language }}</span>
                                            <span class="meta-value">{{ selectedCourse.idioma }}</span>
                                        </div>
                                    </div>
                                    <div class="meta-item">
                                        <i class="fas fa-certificate meta-icon"></i>
                                        <div class="meta-content">
                                            <span class="meta-label">{{ t.course.certificate }}</span>
                                            <span class="meta-value">{{ selectedCourse.certificado ? t.course.yes :
                                                t.course.no }}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="selected-course-actions">
                                    <div class="price-section">
                                        <span class="selected-course-price">{{ selectedCourse.precio }}</span>
                                    </div>

                                    <button class="btn-add-to-cart-large" @click="addToCart(selectedCourse)"
                                        v-bind:disabled="!selectedCourse.disponible"
                                        v-bind:class="{ 'disabled': !selectedCourse.disponible }">
                                        <i class="fas fa-cart-plus btn-icon"></i>
                                        <span class="btn-text">
                                            {{ selectedCourse.disponible ? t.addToCart : t.unavailable }}
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- GRID DE CURSOS -->
                    <div class="courses-grid" v-if="!selectedCourse && paginatedCursos.length > 0">
                        <course-card v-for="curso in paginatedCursos" :key="curso.id" :curso="curso"
                            @select="selectCourse" />
                    </div>

                    <!-- Mensaje cuando no hay resultados en la búsqueda -->
                    <div v-if="!selectedCourse && filteredCursos.length === 0" class="no-results">
                        <i class="fas fa-search"></i>
                        <h3>{{ t.course.noResults }}</h3>
                        <p v-if="searchQuery">{{ t.course.searchPlaceholder }}</p>
                    </div>
                </div>
                <!-- PAGINACIÓN INFERIOR -->
                <div v-if="!selectedCourse" class="pagination-controls" id="pagination-controls-bottom">
                    <button class="pagination-btn" :disabled="currentPage === 1"
                        @click="currentPage--; scrollTo('catalog');
                     showMessage('info', t.messages.pageInfo .replace('{current}', currentPage) .replace('{total}', totalPages));">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span class="pagination-info">{{ currentPage }} / {{ totalPages }}</span>
                    <button class="pagination-btn" :disabled="currentPage === totalPages"
                        @click="currentPage++; scrollTo('catalog'); 
                    showMessage('info', t.messages.pageInfo .replace('{current}', currentPage) .replace('{total}', totalPages));">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </main>

            <!-- ABOUT US -->
            <section class="about-section" id="about">
                <div class="about-container">
                    <!-- BLOQUE 1: QUIÉNES SOMOS -->
                    <div class="about-block">
                        <h2 class="about-title">{{ t.about.title }}</h2>
                        <p class="about-text">
                            {{ t.about.description }}
                        </p>
                    </div>

                    <!-- BLOQUE 2: QUÉ OFRECEMOS -->
                    <div class="about-block">
                        <h3 class="about-subtitle">{{ t.about.offersTitle }}</h3>
                        <div class="about-features">
                            <div class="feature-item">
                                <i class="fa-solid fa-certificate"></i>
                                <span>{{ t.about.featureCertificate }}</span>
                            </div>
                            <div class="feature-item">
                                <i class="fa-solid fa-clock"></i>
                                <span>{{ t.about.featureFlexible }}</span>
                            </div>
                            <div class="feature-item">
                                <i class="fa-solid fa-layer-group"></i>
                                <span>{{ t.about.featureLevels }}</span>
                            </div>
                            <div class="feature-item">
                                <i class="fa-solid fa-cart-shopping"></i>
                                <span>{{ t.about.featureEasy }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="about-bottom-row">
                        <!-- BLOQUE 3: ESTADÍSTICAS -->
                        <div class="about-stats">
                            <div class="stat-item">
                                <span class="stat-number">{{ cursos.length }}</span>
                                <span class="stat-label">{{ t.about.statsCourses }}</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">1.250+</span>
                                <span class="stat-label">{{ t.about.statsUsers }}</span>
                            </div>
                        </div>

                        <!-- BLOQUE 4: CONTACTO -->
                        <div class="about-block about-contact">
                            <h3 class="about-subtitle">{{ t.about.contactTitle }}</h3>
                            <form class="about-form" @submit.prevent="submitAboutForm">
                                <input type="email" v-model="aboutForm.email" :placeholder="t.about.contactEmail"
                                    required />
                                <textarea rows="4" v-model="aboutForm.message" :placeholder="t.about.contactMessage"
                                    required></textarea>
                                <button type="submit" class="about-submit-btn">
                                    {{ t.about.contactSend }}
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- VISTA DEL CARRITO DE COMPRAS -->
        <section v-else-if="currentView === 'cart'" class="cart-view main-content">
            <div class="content-section">
                <h1 class="page-title">{{ t.nav.cart }}</h1>

                <!-- Mensaje cuando el carrito está vacío -->
                <div v-if="cartItems.length === 0" class="empty-cart">
                    <i class="fas fa-shopping-cart"></i>
                    <h3>{{ t.cart.empty }}</h3>
                    <p>{{ t.cart.emptyMessage }}</p>
                    <button class="btn-primary" @click="scrollTo('catalog')">{{ t.cart.browseCourses }}</button>
                </div>

                <!-- Contenido cuando hay items en el carrito -->
                <div v-else class="cart-container">
                    <!-- Lista de cursos en el carrito -->
                    <div class="cart-items">
                        <div v-for="(item, index) in cartItems" :key="item.id" class="cart-item">
                            <div class="cart-item-image">
                                <img :src="item.imagen" :alt="item.titulo" @error="handleImageError">
                            </div>
                            <div class="cart-item-info">
                                <h3 class="cart-item-title">{{ item.titulo }}</h3>
                                <p class="cart-item-description">{{ item.descripcion }}</p>
                                <div class="cart-item-meta">
                                    <span class="cart-item-duration">{{ Math.round(parseInt(item.duracion) / 60)
                                        }}h</span>
                                    <span v-if="item.disponible" class="cart-item-available">{{ t.available }}</span>
                                    <span v-else class="cart-item-unavailable">{{ t.unavailable }}</span>
                                </div>
                            </div>
                            <div class="cart-item-actions">
                                <span class="cart-item-price">{{ item.precio }}</span>
                                <button class="btn-remove" v-on:click="removeFromCart(index)" :title="t.cart.remove">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Resumen del pedido -->
                    <div class="cart-summary">
                        <h3 class="summary-title">{{ t.cart.orderSummary }}</h3>

                        <div class="summary-row total">
                            <span>{{ t.cart.total }}</span>
                            <span>{{ cartTotal }}€</span>
                        </div>

                        <div class="cart-warning" v-if="!isLoggedIn">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>{{ t.cart.loginRequired }}</p>
                        </div>

                        <button class="btn-checkout" @click="checkout" :disabled="!isLoggedIn || !allItemsAvailable"
                            :class="{ 'disabled': !isLoggedIn || !allItemsAvailable }">
                            {{ t.cart.checkout }}
                        </button>

                        <button class="btn-continue-shopping" @click="scrollTo('catalog')">
                            {{ t.cart.continueShopping }}
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- MODAL LOGIN / REGISTRO -->
        <div v-if="showAuthModal" class="auth-modal-overlay" @mousedown.self="closeAuth">
            <div class="auth-modal" @mousedown.stop>

                <div class="modal-header">
                    <h2 class="modal-title">{{ authMode === 'login' ? t.login.title : t.register.title }}</h2>
                    <button class="modal-close-btn" @click="closeAuth" aria-label="Cerrar">&times;</button>
                </div>

                <form @submit.prevent="submitAuth" class="auth-form">

                    <!-- CAMPOS SOLO PARA REGISTRO -->
                    <input v-if="authMode === 'register'" type="text" :placeholder="t.register.dni" v-model="auth.dni"
                        :class="inputClass('dni')" required title="DNI válido (8 números y una letra)">

                    <input v-if="authMode === 'register'" type="text" :placeholder="t.register.nombre"
                        v-model="auth.nombre" :class="inputClass('nombre')" required title="Solo letras y espacios">

                    <input type="text" :placeholder="t.register.email" v-model="auth.email" :class="inputClass('email')"
                        required title="Correo electrónico válido">

                    <input v-if="authMode === 'register'" type="text" :placeholder="t.register.telefono"
                        v-model="auth.telefono" :class="inputClass('telefono')" required title="Teléfono español">

                    <!-- CAMPOS DE CONTRASEÑA -->
                    <input type="password" :placeholder="t.login.password" v-model="auth.password"
                        :class="inputClass('password')" required>

                    <input v-if="authMode === 'register'" type="password" :placeholder="t.register.password2"
                        v-model="auth.password2" :class="inputClass('password2')" required>

                    <button type="submit" class="auth-submit-btn"
                        :disabled="authMode === 'register' && !isRegisterFormValid">
                        {{ authMode === 'login' ? t.login.loginButton : t.register.registerButton }}
                    </button>
                </form>

                <p class="auth-mode-switch">
                    <span v-if="authMode === 'login'">
                        {{ t.login.question }}
                        <a @click="authMode = 'register'">{{ t.register.registerButton }}</a>
                    </span>
                    <span v-else>
                        {{ t.register.question }}
                        <a @click="authMode = 'login'">{{ t.login.loginButton }}</a>
                    </span>
                </p>

            </div>
        </div>

        <!-- MENSAJES DE INFORMACIÓN -->
        <transition name="slide-down">
            <div v-if="message.show" :class="['message', message.type]">
                <i :class="getMessageIconClass(message.type)"></i>
                <span class="message-text">{{ message.text }}</span>
            </div>
        </transition>

        <!-- FOOTER -->
        <footer class="main-footer">
            <div class="footer-container">

                <div class="footer-column">
                    <h4>{{ t.siteName }}</h4>
                    <p>{{ t.footer.rights }}</p>
                </div>

                <div class="footer-column">
                    <h4>{{ t.nav.about }}</h4>
                    <ul>
                        <li><i class="fa-solid fa-location-dot"></i> {{ t.footer.address }}</li>
                        <li><i class="fa-solid fa-envelope"></i> {{ t.footer.email }}</li>
                        <li><i class="fa-solid fa-phone"></i> {{ t.footer.contact }}</li>
                    </ul>
                </div>

                <div class="footer-column footer-actions">
                    <span class="lang-indicator">
                        <i class="fa-solid fa-globe"></i>
                        {{ selectedLang === 'es' ? t.currentLangEs : t.currentLangEn }}
                    </span>

                    <span class="footer-creator">
                        <i class="fa-solid fa-code"></i>
                        {{ t.footer.autor }}
                        <a href="https://github.com/fmoorenoo" id="link-fer" target="_blank" rel="noopener">
                            <i class="fa-solid fa-magnifying-glass fa-flip-horizontal"></i>
                        </a>
                    </span>

                    <button v-if="currentView !== 'cart'" class="back-to-top-btn" @click="scrollTo('app')">
                        <i class="fa-solid fa-arrow-up"></i> {{ t.footer.backToTop }}
                    </button>
                </div>
            </div>

            <div class="footer-bottom">
                © {{ new Date().getFullYear() }} · {{ t.siteName }}
            </div>
        </footer>
    </div>

    <!-- Cargar scripts en orden correcto -->
    <script src="js/i18n.js"></script>
    <script src="js/palettes.js"></script>
    <!-- Todos los métodos/funciones -->
    <script src="js/methods/methods-slider.js"></script>
    <script src="js/methods/methods-auth.js"></script>
    <script src="js/methods/methods-cart.js"></script>
    <script src="js/methods/methods-ui.js"></script>
    <script src="js/methods/methods-validation.js"></script>
    <!-- Script principal -->
    <script src="js/app.js"></script>

    <!-- TEMPLATE: Course Card (Grid) -->
    <template id="tpl-course-card">
        <div class="course-card" @click="$emit('select', curso)">
            <img :src="curso.imagen" :alt="curso.titulo" class="course-thumbnail" @error="handleImageError">

            <div class="course-card-content">
                <h3 class="course-title">{{ curso.titulo }}</h3>

                <p class="course-description">{{ curso.descripcion }}</p>

                <div class="course-card-footer">
                    <span class="course-price">{{ curso.precio }}</span>

                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span class="course-duration">
                            {{ Math.round(parseInt(curso.duracion) / 60) }}h
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </template>
</body>

</html>